{
    "runner.executors": {
        "no_rev": {
            "executor": "program",
            "program": [
                "before_methods",
                "warmup",
                "hrtime_sampler",
                [
                    "call_subject"
                ],
                "after_methods",
                "memory_sampler"
            ]
        }
    },
    "report.generators": {
        "regression": {
            "generator": "component",
            "components": [
                {
                    "component": "table_aggregate",
                    "title": "Table",
                    "partition": ["subject_name", "variant_index"],
                    "row": {
                        "benchmark": "first(partition['benchmark_name'])",
                        "subject": "first(partition['subject_name'])",
                        "sleep": "first(partition['variant_params'][0]) as time",
                        "mode": "mode(partition['result_time_avg']) as time",
                        "diff": "(mode(partition['result_time_avg']) - first(partition['variant_params'][0])) as time",
                        "revs": "first(partition['variant_revs'])"
                    }
                }
            ]
        },
        "regression1": {
            "generator": "component",
            "components":  [
                {
                    "component": "section",
                    "title": "{{ first(frame[\"benchmark_name\"]) }}",
                    "components": [
                        {
                            "component": "section",
                            "tabbed": true,
                            "tab_labels": ["Time", "Memory"],
                            "components": [
                                {
                                    "title": "Average iteration times by variant",
                                    "component": "bar_chart_aggregate",
                                    "x_partition": ["subject_name", "variant_name"],
                                    "bar_partition": ["suite_tag"],
                                    "y_expr": "mode(partition[\"result_time_avg\"])",
                                    "y_error_margin": "stdev(partition[\"result_time_avg\"])",
                                    "y_axes_label": "yValue as time precision 1"
                                },
                                {
                                    "title": "Memory by variant",
                                    "component": "bar_chart_aggregate",
                                    "x_partition": ["subject_name", "variant_name"],
                                    "bar_partition": ["suite_tag"],
                                    "y_expr": "mode(partition[\"result_mem_peak\"])",
                                    "y_error_margin": "stdev(partition[\"result_mem_peak\"])",
                                    "y_axes_label": "yValue as memory precision 1"
                                }
                            ]
                        },
                        {
                            "component": "table_aggregate",
                            "partition": ["subject_name", "variant_index"],
                            "row": {
                                "subject": "first(partition['subject_name']) ~ '.' ~ first(partition['variant_index'])",
                                "sleep": "first(partition['variant_params'][0]) as microseconds",
                                "time": {
                                    "type": "expand",
                                    "partition": "suite_tag",
                                    "cols": {
                                        "Tag: {{ key }}": "mode(partition['result_time_avg']) as time ~ ' (' ~ rstdev(partition['result_time_avg']) ~ ')'"
                                    }
                                }
                            }
                        }
                    ]
                }
            ]
        }
    }

}
